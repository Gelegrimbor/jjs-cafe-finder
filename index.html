<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Finder</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>â˜• Cafe Finder</h1>
        <div id="map"></div>
        <div id="results"></div>
    </div>

    <!-- Load config (tries config.js first for local, then config.prod.js for production) -->
    <script>
        (function() {
            // Try to load local config first
            const localScript = document.createElement('script');
            localScript.src = 'config.js';
            
            localScript.onerror = function() {
                // If local config doesn't exist, load production config
                console.log('Loading production config...');
                const prodScript = document.createElement('script');
                prodScript.src = 'config.prod.js';
                prodScript.onload = loadGoogleMaps;
                document.head.appendChild(prodScript);
            };
            
            localScript.onload = function() {
                console.log('Loading local config...');
                loadGoogleMaps();
            };
            
            document.head.appendChild(localScript);
            
            function loadGoogleMaps() {
                const mapsScript = document.createElement('script');
                mapsScript.src = `https://maps.googleapis.com/maps/api/js?key=${CONFIG.GOOGLE_MAPS_API_KEY}&libraries=places&callback=initMap&v=weekly`;
                mapsScript.async = true;
                mapsScript.defer = true;
                document.head.appendChild(mapsScript);
            }
        })();
    </script>
    
    <script src="cafe-app.js"></script>
</body>
</html>